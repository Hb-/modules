<xar:template file="application_top" type="module"/>

<style type="text/css">@import url(modules/commerce/xarstyles/adminstylesheet.css);</style>
<script type="text/javascript" src="modules/commerce/xartemplates/general.js"></script>
<xar:template file="adminheader" type="module"/>

<table border="0" width="100%" cellspacing="0" cellpadding="2">
	<tr>
		<td>
			<table border="0" width="100%" cellspacing="0" cellpadding="0">
			  <tr>
				<td width="80" rowspan="2"><img src="#xarTplGetImage('adminicons/heading_customers.gif')#"></td>
				<td class="pageHeading">#$customers_lastname#&nbsp;#$customers_firstname#</td>
			  </tr>
			  <tr>
				<td class="main" valign="top"><xar:mlstring>XT Customers</xar:mlstring></td>
			  </tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
		</td>
	</tr>
	<form name="customers" action="#xarModURL('commerce','admin','edit_account', array('action' => 'edit'))#" method="POST">
	<input type="hidden" name="cID" value="#$cID#">
	<input type="hidden" name="default_address_id" value="#$default_address_id#">
	<tr>
		<td class="formAreaTitle">
			<xar:mlstring>Personal</xar:mlstring>
		</td>
	</tr>
	<tr>
		<td class="formArea">
			<table border="0" cellspacing="2" cellpadding="2">
  				<xar:if condition="$configuration.account_gender == 'true'">
					<tr>
						<td class="main">
							<xar:mlstring>Gender</xar:mlstring>
						</td>
						<td class="main">
							<xar:if condition="$customers_gender == 'm'">					
								<input type="radio" name="customers_gender" value="m" CHECKED>
							<xar:else />							
								<input type="radio" name="customers_gender" value="m">
							</xar:if>
							&nbsp;&nbsp;
							<xar:mlstring>Male</xar:mlstring>
							&nbsp;&nbsp;
							<xar:if condition="$customers_gender == 'f'">					
								<input type="radio" name="customers_gender" value="f" CHECKED>
							<xar:else />							
								<input type="radio" name="customers_gender" value="f">
							</xar:if>
							&nbsp;&nbsp;
							<xar:mlstring>Female</xar:mlstring>
							<xar:if condition="$entry_gender_error == 'true'">					
								&nbsp;<span class="errorText">
										#xarML('required field')#
								</span>
							</xar:if>
						</td>
					</tr>
  				</xar:if>
				<tr>
					<td class="main">
						<xar:mlstring>First Name</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="customers_firstname" value = "#$customers_firstname#" maxlength="32">
						<xar:if condition="$entry_firstname_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_first_name_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
				<tr>
					<td class="main">
						<xar:mlstring>Last Name</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="customers_lastname" value = "#$customers_lastname#" maxlength="32">
						<xar:if condition="$entry_lastname_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_last_name_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
  				<xar:if condition="$configuration.account_dob == 'true'">
					<tr>
						<td class="main">
							<xar:mlstring>Date of Birth</xar:mlstring>
						</td>
						<td class="main">
							<input type="input" name="customers_dob" value="#$customers_dob#" maxlength="10">
							<xar:if condition="$entry_date_of_birth_error == 'true'">					
								&nbsp;<span class="errorText">
										#xarML('min. chars (e.g. 05/21/1970)',$configuration.entry_dob_min_length)#
								</span>
							</xar:if>
						</td>
					</tr>
  				</xar:if>
				<tr>
					<td class="main">
						<xar:mlstring>Email Address</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="customers_email_address" value = "#$customers_email_address#" maxlength="96">
						<xar:if condition="$entry_email_address_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_email_address_min_length)#
							</span>
						<xar:elseif condition="$entry_email_address_check_error == 'true'" />					
							&nbsp;<span class="errorText">
									#xarML('invalid email address')#
							</span>
						<xar:elseif condition="$entry_email_address_exists == 'true'" />					
							&nbsp;<span class="errorText">
									#xarML('email address already exists')#
							</span>
						</xar:if>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
		</td>
	</tr>
  	<xar:if condition="$configuration.account_company == 'true'">
		<tr>
			<td class="formAreaTitle">
				<xar:mlstring>Company</xar:mlstring>
			</td>
		</tr>
		<tr>
			<td class="formArea">
				<table border="0" cellspacing="2" cellpadding="2">
					<tr>
						<td class="main">
							<xar:mlstring>Company Name</xar:mlstring>
						</td>
						<td class="main">
							<input type="input" name="entry_company" value = "#$entry_company#" maxlength="32">
						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
			</td>
		</tr>
  	</xar:if>
	<tr>
		<td class="formAreaTitle">
			<xar:mlstring>Address</xar:mlstring>
		</td>
	</tr>
	<tr>
		<td class="formArea">
			<table border="0" cellspacing="2" cellpadding="2">
				<tr>
					<td class="main">
						<xar:mlstring>Street Address</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="entry_street_address" value = "#$entry_street_address#" maxlength="64">
						<xar:if condition="$entry_street_address_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_street_address_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
  				<xar:if condition="$configuration.account_suburb == 'true'">
					<tr>
						<td class="main">
							<xar:mlstring>Suburb</xar:mlstring>
						</td>
						<td class="main">
							<input type="input" name="entry_suburb" value = "#$entry_suburb#" maxlength="32">
						</td>
					</tr>
  				</xar:if>
				<tr>
					<td class="main">
						<xar:mlstring>Postal Code</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="entry_postcode" value = "#$entry_postcode#" maxlength="8">
						<xar:if condition="$entry_post_code_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_postcode_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
				<tr>
					<td class="main">
						<xar:mlstring>City</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="entry_city" value = "#$entry_city#" maxlength="32">
						<xar:if condition="$entry_city_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_city_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
  				<xar:if condition="$configuration.account_state == 'true'">
					<tr>
						<td class="main">
							<xar:mlstring>State</xar:mlstring>
						</td>
						<td class="main">
							<xar:if condition="$zones == ''">												
								<input type="input" name="entry_state" value = "#$entry_state#" maxlength="32">
								<xar:if condition="$entry_state_error == 'true'">					
									&nbsp;<span class="errorText">
											#xarML('required value')#
									</span>
								</xar:if>
							<xar:else />
								#xarModAPIFunc('commerce','user','draw_pull_down_menu',array('name' => 'entry_zone_id', 'values' => $zones, 'default' => $entry_zone_id))#
							</xar:if>
						</td>
					</tr>
  				</xar:if>
				<tr>
					<td class="main">
						<xar:mlstring>Country</xar:mlstring>
					</td>
					<td class="main">
						#xarModAPIFunc('commerce','user','draw_pull_down_menu',array('name' => 'entry_country_id', 'values' => xarModAPIFunc('commerce','user','get_countries'), 'default' => $entry_country_id, 'parameters' => 'onChange="this.form.submit()"'))#
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
		</td>
	</tr>
	<tr>
		<td class="formAreaTitle">
			<xar:mlstring>Contact</xar:mlstring>
		</td>
	</tr>
	<tr>
		<td class="formArea">
			<table border="0" cellspacing="2" cellpadding="2">
				<tr>
					<td class="main">
						<xar:mlstring>Phone</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="customers_telephone" value = "#$customers_telephone#" maxlength="32">
						<xar:if condition="$entry_telephone_error == 'true'">					
							&nbsp;<span class="errorText">
									#xarML('min. chars',$configuration.entry_telephone_min_length)#
							</span>
						</xar:if>
					</td>
				</tr>
				<tr>
					<td class="main">
						<xar:mlstring>Fax</xar:mlstring>
					</td>
					<td class="main">
						<input type="input" name="customers_fax" value = "#$customers_fax#" maxlength="32">
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
		</td>
	</tr>
	<tr>
		<td class="formAreaTitle">
			<xar:mlstring>Options</xar:mlstring>
		</td>
	</tr>
	<tr>
		<td class="formArea">
			<table border="0" cellspacing="2" cellpadding="2">
				<tr>
					<td class="main">
						<xar:mlstring>Newsletter</xar:mlstring>
					</td>
					<td class="main">
						 
					</td>
				</tr>
				<tr>				
					<td valign="top" class="main">
						<xar:mlstring>Memo</xar:mlstring>
					</td>
    				<td class="main">
						<xar:loop name="$memos">
							<table width="100%">
								<tr>
									<td class="main">
										<b><xar:mlstring>Date</xar:mlstring></b>:<i>#$loop:item['memo_date']#</i>
										&nbsp;<b><xar:mlstring>Title</xar:mlstring></b>: #$loop:item['memo_title']#
										&nbsp;<b><xar:mlstring>Poster</xar:mlstring></b>:#$customers_lastname#&nbsp;#$customers_firstname#
									</td>
								</tr>
								<tr>
									<td width="142" class="main" style="border: 1px solid; border-color: #cccccc;">
										#$loop:item['memo_text']#
									</td>
								</tr>
								<tr>
									<td>
										<a href="#xarModURL('commerce','admin','edit_account', array('cID' => $cID, 'action' => 'edit', 'special' => 'remove_memo', 'mID' => $loop:item['memo_id']))#" onClick="return confirm(#xarML('Delete Entry')#"><img src="#xarTplGetImage($language . '/admin/buttons/button_insert.gif')#" alt="#xarML('Delete')#"></a>
									</td>
								</tr>
							</table>
						</xar:loop>
						<table width="100%">
							<tr>
								<td class="main" style="border-top: 1px solid; border-color: #cccccc;">
								<b><xar:mlstring>Title</xar:mlstring></b>:
								<input type="text" name="memo_title">
								<br />
								<textarea name="memo_text" wrap="soft" cols="80" rows="5"'>
									#$customers_mail_comments#
								</textarea>
								<br>
								<input type="image" src="#xarTplGetImage($language . '/admin/buttons/button_insert.gif')#" border="0" alt="Insert">	
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<img src="#xarTplGetImage('pixel_trans.gif')#" width="1" height="10">
		</td>
	</tr>
	<tr>
		<td align="right" class="main">
			<input type="image" src="#xarTplGetImage($language . '/admin/buttons/button_update.gif')#" border="0" alt="Update">	
			<a href="#xarModURL('commerce','admin','customers',array('cID' => $cID))#">
				<img src="#xarTplGetImage($language . '/admin/buttons/button_cancel.gif')#" border="0" alt="Cancel" title=" Cancel ">
			</a>
		</td>
	</tr>
      </form>
</table>