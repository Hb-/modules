<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<!--<xar:style scope="module" file="xarform" />-->
<xar:style scope="module" />
<!-- This Javascript will check for required fields before the form is submitted. -->
<xar:base-include-javascript module="base" filename="formcheck.js" position="head" />

<script type="text/javascript">
<!--
    // Enter name of mandatory fields
    var fieldRequired = Array("startdate", "enddate");
    // Enter field description to appear in the dialog box
    var fieldDescription = Array("Date the course starts", "Date the course ends");
//-->
</script>

<div class="xar-courses xar-courses-updateplanning">
<div class="xar-courses-head">
    <span class="xar-mod-title">#$menutitle#</span>
</div>
<div class="xar-courses-contents">
    <h2>#$coursedata['number']# #$coursedata['name']#</h2><br />

<form method="post" class="xar-form"
      action="#xarModUrl('courses', 'admin', 'updateplanned')#"
      onsubmit="return xar_base_formCheck(this, fieldRequired, fieldDescription);">
      
      <fieldset class="xar-norm">
           <fieldset class="formelements xar-norm">
                <legend>
                    <strong><xar:mlstring>The occurence</xar:mlstring></strong>
                </legend>
                <p class="param">
                    <label for="name" class="required">
                        <span class="help" title="#xarML('The name of this course.')#">
                        #$namelabel#
                        </span>
                    </label>
                    <xar:data-input name="name" type="1" value="$coursedata['name']" />
                </p>
                <p class="param">
                    <label for="number" class="required">
                        <span class="help" title="#xarML('The code/number of this course.')#">
                        #$numberlabel#
                        </span>
                    </label>
                    <xar:data-input name="number" type="1" value="$coursedata['number']" />
                </p>
                <p class="param">
                    <label for="freq" class="required">
                        <span class="help" title="#xarML('The Frequency of this course.')#">
                        #$freqlabel#
                        </span>
                    </label>
                    <xar:data-input name="freq" type="1" value="$coursedata['freq']" />
                </p>
                <p class="param">
                    <label for="year" class="required">
                        <span class="help" title="#xarML('Choose the course year or period for this occurence.')#">
                        #$yearlabel#
                        </span>
                    </label>
                        <select name="year">
                        <xar:loop name="$year">
                            <option value="#$loop:item['yearid']#">#$loop:item['year']#</option>
                        </xar:loop>
                        </select>
                </p>
                <p class="param">
                    <label for="startdate" class="required">
                        <span class="help" title="#xarML('The date this course will start.')#">
                        #$startdatelabel#
                        </span>
                    </label>
                    <xar:data-input name="startdate" type="8" value="$planneddata['startdate']" />
                </p>
                <p class="param">
                    <label for="enddate" class="required">
                        <span class="help" title="#xarML('The date this course will end.')#">
                        #$enddatelabel#
                        </span>
                    </label>
                    <xar:data-input name="enddate" type="8" value="$planneddata['enddate']" />
                </p>
                <p class="param">
                    <label for="closedate" class="required">
                        <span class="help" title="#xarML('The date registration for this course will end.')#">
                        #$closedatelabel#
                        </span>
                    </label>
                    <xar:data-input name="closedate" type="8" value="$planneddata['closedate']" />
                </p>
                
           </fieldset>
           <fieldset class="formelements xar-norm">
                <legend>
                    <strong><xar:mlstring>Course credits</xar:mlstring></strong>
                </legend>
                <p class="param">
                    <label for="credits" class="required">
                        <span class="help" title="#xarML('Enter the number of credits for this course.')#">
                        #$creditslabel#
                        </span>
                    </label>
                    <xar:data-input name="credits" type="15" value="$planneddata['credits']" />
                    <xar:if condition="!empty($invalid['credits'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid amount of credits</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="creditsmin">
                        <span class="help" title="#xarML('Enter the minimum amount of credits for this course.')#">
                        #$creditsminlabel#
                        </span>
                    </label>
                    <xar:data-input name="creditsmin" type="15" value="$planneddata['creditsmin']" />
                    <xar:if condition="!empty($invalid['creditsmin'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid amount of minimum credits</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="creditsmax">
                        <span class="help" title="#xarML('Enter the maximum amount of credits for this course.')#">
                        #$creditsmaxlabel#
                        </span>
                    </label>
                    <xar:data-input name="creditsmax" type="15" value="$planneddata['creditsmax']" />
                    <xar:if condition="!empty($invalid['creditsmax'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid amount of maximum credits</xar:mlstring></span>
                    </xar:if>
                </p>
           </fieldset>
           <fieldset class="formelements xar-norm">
                <legend>
                    <strong><xar:mlstring>Course contents</xar:mlstring></strong>
                </legend>
                <p class="param">
                    <label for="prerequisites">
                        <span class="help" title="#xarML('Enter the prerequisites (Like another course to fulfill before a student can enroll into this one) for this course.')#">
                        #$prereqlabel#
                        </span>
                    </label>
                    <span class="fullright">
                            <textarea class="fullright" name="prerequisites" id="prerequisites" wrap="virtual" rows="10" cols="40">#$planneddata['prerequisites']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['prerequisites'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a prerequisites type</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="aim">
                        <span class="help" title="#xarML('Enter the aim of this course.')#">
                        #$aimlabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="aim" id="aim" wrap="virtual" rows="10" cols="40">#$planneddata['aim']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['aim'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid aim type</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="longdesc">
                        <span class="help" title="#xarML('Enter a complete description for this course, supplementing the short description.')#">
                        #$longdesclabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="longdesc" id="longdesc" wrap="virtual" rows="10" cols="40">#$planneddata['longdesc']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['shortdesc'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid long decription</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="program">
                        <span class="help" title="#xarML('The programme of this course.')#">
                        #$programlabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="program" id="program" wrap="virtual" rows="10" cols="40">#$planneddata['program']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['method'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid programme description</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="method">
                        <span class="help" title="#xarML('Describe the methods used in this course.')#">
                        #$methodlabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="method" id="method" wrap="virtual" rows="10" cols="40">#$planneddata['method']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['method'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid method description</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="lecturers">
                        <span class="help" title="#xarML('The lecturers for this course.')#">
                        #$lecturerslabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="lecturers" id="lecturers" wrap="virtual" rows="10" cols="40">#$planneddata['lecturers']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['lecturers'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid lecturers description</xar:mlstring></span>
                    </xar:if>
                </p>
           </fieldset>
           <fieldset class="formelements xar-norm">
                <legend>
                    <strong><xar:mlstring>Course conditions</xar:mlstring></strong>
                </legend>
                <p class="param">
                    <label for="costs">
                        <span class="help" title="#xarML('The costs to enroll into this course.')#">
                        #$costslabel#
                        </span>
                    </label>
                    <span class="fullright">
                      <xar:data-input name="costs" type="2" value="$planneddata['costs']" />
                    </span>
                    <xar:if condition="!empty($invalid['costs'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid cost</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="minpart">
                        <span class="help" title="#xarML('The minimum amount of students that should enroll in this course.')#">
                        #$minpartlabel#
                        </span>
                    </label>
                    <span class="fullright">
                      <xar:data-input name="minparticipants" type="15" value="$planneddata['minparticipants']" />
                    </span>
                    <xar:if condition="!empty($invalid['minparticipants'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid minpart</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="maxpart">
                        <span class="help" title="#xarML('The maximum amount of students that can enroll in this course.')#">
                        #$maxpartlabel#
                        </span>
                    </label>
                    <span class="fullright">
                      <xar:data-input name="maxparticipants" type="15" value="$planneddata['maxparticipants']" />
                    </span>
                    <xar:if condition="!empty($invalid['maxparticipants'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid maxpart</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="material">
                        <span class="help" title="#xarML('The material used in this course.')#">
                        #$materiallabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="material" id="material" wrap="virtual" rows="10" cols="40">#$planneddata['material']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['costs'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid material description</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="location">
                        <span class="help" title="#xarML('The location of this course.')#">
                        #$locationlabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="location" id="location" wrap="virtual" rows="10" cols="40">#$planneddata['location']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['costs'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid location</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="coordinators">
                        <span class="help" title="#xarML('The coordinators for this course.')#">
                        #$coordinatorslabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="coordinators" id="coordinators" wrap="virtual" rows="10" cols="40">#$planneddata['coordinators']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['coordinators'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid coordinators description</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="committee">
                        <span class="help" title="#xarML('The organising committee for this course.')#">
                        #$committeelabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="committee" id="committee" wrap="virtual" rows="10" cols="40">#$planneddata['committee']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['committee'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid committee description</xar:mlstring></span>
                    </xar:if>
                </p>
           </fieldset>
           <fieldset class="formelements xar-norm">
                <legend>
                    <strong><xar:mlstring>Others</xar:mlstring></strong>
                </legend>
                <p class="param">
                    <label for="info">
                        <span class="help" title="#xarML('Other info on this course.')#">
                        #$infolabel#
                        </span>
                    </label>
                    <span class="fullright">
                        <textarea class="fullright" name="info" id="info" wrap="virtual" rows="10" cols="40">#$planneddata['info']#</textarea>
                    </span>
                    <xar:if condition="!empty($invalid['info'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid info description</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="hideplanning">
                        <span class="help" title="#xarML('Hide this planning from being viewed by site users.')#">
                        #$hideplanninglabel#
                        </span>
                    </label>
                    <span class="fullright">
                      <xar:data-input name="hideplanning" type="14" value="$planneddata['hideplanning']" />
                    </span>
                    <xar:if condition="!empty($invalid['hideplanning'])">
                        <span style="color: red"><xar:mlstring>ERROR! This is not a valid hide planning</xar:mlstring></span>
                    </xar:if>
                </p>
                <p class="param">
                    <label for="last_modified">
                        <span class="help" title="#xarML('Date of last modification.')#">
                        #$lastmodilabel#
                        </span>
                    </label>
                    <span class="fullright">
                     #xarLocaleGetFormattedDate('long',$planneddata['last_modified'])#
                    </span>
                </p>
           </fieldset>
      </fieldset>
      
<xar:comment>

<xar:if condition="!isset($contact)">
    <div style="clear: both; padding-top: 10px;">
    <input type="hidden" name="authid" id="authid" value="#xarSecGenAuthKey()#" />
    <span style="float: left; width: 20%; text-align: right;">
        <span class="help" title="#xarML('Enter detailed contact information for this course.')#"><label for="contact">#$contactlabel#</label>:</span>
    </span>
    <span style="float: right; width: 78%; text-align: left;">
     <xar:data-input name="contact" type="3" value="$planneddata['contact']" />

    <xar:if condition="!empty($invalid['contact'])">
            <span style="color: red"><xar:mlstring>ERROR! This is not a valid contact</xar:mlstring></span>
        </xar:if>
    </span>
    </div>

<xar:else />

    <div style="clear: both; padding-top: 10px;">
    <input type="hidden" name="authid" id="authid" value="#xarSecGenAuthKey()#" />
    <span style="float: left; width: 20%; text-align: right;">
        <span class="help" title="#xarML('Enter detailed contact information for this course.')#"><label for="contact">#$contactlabel#</label>:</span>
    </span>
    <span style="float: right; width: 78%; text-align: left;">
     <xar:data-input name="contact" type="3" value="$item['contact']" />

        <xar:if condition="!empty($invalid['contact'])">
            <span style="color: red"><xar:mlstring>ERROR! This is not a valid contact</xar:mlstring></span>
        </xar:if>
    </span>
    </div>

</xar:if>

</xar:comment>

    #$hooks#
    <div style="clear: both; padding-top: 10px;">
        <input type="hidden" name="planningid" id="planningid" value="#$planningid#" />
        <input type="hidden" name="authid" id="authid" value="#$authid#" />
        <span style="float: left; width: 30%; text-align: right;"><input type="submit" value="#$updatebutton#" /></span>
    </div>

</form>

<br />
</div>
</div>
