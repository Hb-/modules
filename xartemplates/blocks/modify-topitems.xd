<xar:template xmlns:xar="http://xaraya.com/2004/blocklayout">
<div class="xar-form-input-wrapper">
    <label class="xar-form-label help" title="#xarML('Enter the number of items that you wish to display.')#" for="numitems#$blockid#"> 
        <xar:mlstring>
            Number of items 
        </xar:mlstring>
    </label> <input type="text" name="numitems" id="numitems#$blockid#" value="#$numitems#" size="5" maxlength="5" /> 
</div>
<xar:if condition="empty($nopublimit)">
    <div class="xar-form-input-wrapper">
        <label class="xar-form-label help" title="#xarML('Choose the publication type you want to display with top items.')#" for="pubtype_id#$blockid#"> 
            <xar:mlstring>
                Publication Type
            </xar:mlstring>
        </label> 
        <xar:var name="firstline">Default / Current</xar:var>
        <xar:set name="firstline">array(0,$firstline)</xar:var>
        <xar:data-input type="dropdown" name="pubtype_id" firstline="$firstline" options="$options" value="$pubid"/>
        <select >
            <xar:foreach in="$pubtypes" key="$pubid" value="$pubtype">
                <xar:if condition="!empty($pubtype_id) and $pubtype_id eq ">
                    <option value="#$pubid#" selected="selected">
                        #$pubtype['description']# 
                    </option>
                    <xar:else />
                    <option value="#$pubid#">
                        #$pubtype['description']# 
                    </option>
                </xar:if>
            </xar:foreach>
        </select> 
    </div>
</xar:if>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($nopublimit)">
        <input type="checkbox" name="nopublimit" id="nopublimit#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="nopublimit" id="nopublimit#$blockid#" value="1" checked="checked" /> 
    </xar:if>
    <label class="help" title="#xarML('Check this if you want the block to display content from all publication types all the time.')#" for="nopublimit#$blockid#"> 
        <xar:mlstring>
            All Publication Types 
        </xar:mlstring>
    </label> 
</div>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($linkpubtype)">
        <input type="checkbox" name="linkpubtype" id="linkpubtype#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="linkpubtype" id="linkpubtype#$blockid#" value="1" checked="checked" /> 
    </xar:if>
    <label class="help" title="#xarML('Check this if you want to include the publication type in the article links.')#" for="linkpubtype#$blockid#"> 
        <xar:mlstring>
            Link to Publication Type 
        </xar:mlstring>
    </label> 
</div>
<xar:if condition="empty($nocatlimit)">
    <div class="xar-form-input-wrapper">
        <label class="xar-form-label help" title="#xarML('Choose the category that you want to display with top items.')#" for="catfilter#$blockid#"> 
            <xar:mlstring>
                Category 
            </xar:mlstring>
        </label><select name="catfilter" id="catfilter#$blockid#"> 
            <option value="0">
                <xar:mlstring>
                    All / Current 
                </xar:mlstring>
            </option>
            <xar:foreach in="$categorylist" value="$catlistx">
                <xar:if condition="!empty($catfilter) and $catfilter eq $catlistx['cid']">
                    <option value="#$catlistx['cid']#" selected="selected">
                        #$catlistx['name']# 
                    </option>
                    <xar:else />
                    <option value="#$catlistx['cid']#">
                        #$catlistx['name']# 
                    </option>
                </xar:if>
            </xar:foreach>
        </select> 
    </div>
    <xar:if condition="empty($includechildren) and $catfilter gt 0">
        <div class="xar-form-input-wrapper-after">
            <xar:if condition="empty($linkcat)">
                <input type="checkbox" name="linkcat" id="linkcat#$blockid#" value="1" /> 
                <xar:else />
                <input type="checkbox" name="linkcat" id="linkcat#$blockid#" value="1" checked="checked" /> 
            </xar:if>
            <label class="help" title="#xarML('Check this if you want to include this the category in the article links.')#" for="linkcat#$blockid#"> 
                <xar:mlstring>
                    Link to This Category 
                </xar:mlstring>
            </label> 
        </div>
    </xar:if>
    <div class="xar-form-input-wrapper-after">
        <xar:if condition="empty($includechildren)">
            <input type="checkbox" name="includechildren" id="includechildren#$blockid#" value="1" /> 
            <xar:else />
            <input type="checkbox" name="includechildren" id="includechildren#$blockid#" value="1" checked="checked" /> 
        </xar:if>
        <label class="help" title="#xarML('Check this if you want to display all publications in all subcategories of the current or selected category.')#" for="includechildren#$blockid#"> 
            <xar:mlstring>
                Include Child Category Content 
            </xar:mlstring>
        </label> 
    </div>
</xar:if>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($nocatlimit)">
        <input type="checkbox" name="nocatlimit" id="nocatlimit#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="nocatlimit" id="nocatlimit#$blockid#" value="1" checked="checked" /> 
    </xar:if>
    <label class="help" title="#xarML('Check this if you want the block to display content from all categories all the time.')#" for="nocatlimit#$blockid#"> 
        <xar:mlstring>
            All Categories 
        </xar:mlstring>
    </label> 
</div>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($dynamictitle)">
        <input type="checkbox" name="dynamictitle" id="dynamictitle#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="dynamictitle" id="dynamictitle#$blockid#" value="1" checked="checked" /> 
    </xar:if>
    <label class="help" title="#xarML('Check this to have the block title dynamically generated from the current content.')#" for="dynamictitle#$blockid#"> 
        <xar:mlstring>
            Dynamic Block Title 
        </xar:mlstring>
    </label> 
</div>
<div class="xar-form-input-wrapper">
    <label class="xar-form-label help" title="#xarML('Choose the sorting options for the top items.')#" for="toptype#$blockid#"> 
        <xar:mlstring>
            Sort by 
        </xar:mlstring>
    </label><select name="toptype" id="toptype#$blockid#" size="1"> 
        <xar:foreach in="$sortoptions" value="$sortoption">
            <xar:if condition="$toptype eq $sortoption['id']">
                <option value="#$sortoption['id']#" selected="selected">
                    #$sortoption['name']# 
                </option>
                <xar:else />
                <option value="#$sortoption['id']#">
                    #$sortoption['name']# 
                </option>
            </xar:if>
        </xar:foreach>
    </select>
    <xar:mlstring>Hook Hitcount or Ratings to Publications to use these sort types</xar:mlstring>

</div>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($showvalue)">
        <input type="checkbox" name="showvalue" id="showvalue#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="showvalue" id="showvalue#$blockid#" value="1" checked="checked" /> 
    </xar:if>
    <label class="help" title="#xarML('Check this box to show the value of the sort that you chose.')#" for="showvalue#$blockid#"> 
        <xar:mlstring>
            Show sort value 
        </xar:mlstring>
    </label> 
</div>
<div class="xar-form-input-wrapper-after">
    <xar:if condition="empty($showsummary)">
        <input type="checkbox" name="showsummary" id="showsummary#$blockid#" value="1" /> 
        <xar:else />
        <input type="checkbox" name="showsummary" id="showsummary#$blockid#" value="1" checked="checked" />
    </xar:if>
    <label class="help" title="#xarML('Select this if you wish to show the summary of the individual item.')#" for="showsummary#$blockid#"> 
        <xar:mlstring>
            Show summary 
        </xar:mlstring>
    </label> 
</div> 
<div class="xar-form-input-wrapper">
    <label class="xar-form-label help" title="#xarML('Choose the state (e.g. Approved, Front Page) for the featured items.')#" for="state#$blockid#"> 
        <xar:mlstring>
            Status 
        </xar:mlstring>
    </label><select name="state" id="state#$blockid#" size="1"> 
        <xar:foreach in="$stateoptions" value="$stateoption">
            <xar:if condition="!empty($state) and $state eq $stateoption['id']">
                <option value="#$stateoption['id']#" selected="selected">
                    #$stateoption['name']# 
                </option>
                <xar:else />
                <option value="#$stateoption['id']#">
                    #$stateoption['name']# 
                </option>
            </xar:if>
        </xar:foreach>
    </select>
</div>
<xar:if condition="xarModIsHooked('dynamicdata','publications',$pubtype_id)">
    <div class="xar-form-input-wrapper-after">
        <xar:if condition="empty($showdynamic)">
            <input type="checkbox" name="showdynamic" id="showdynamic#$blockid#" value="1" /> 
            <xar:else />
            <input type="checkbox" name="showdynamic" id="showdynamic#$blockid#" value="1" checked="checked" /> 
        </xar:if>
        <label class="help" title="#xarML('Select this if you wish to show the dynamic data that you have included for your publication types.')#" for="showdynamic#$blockid#"> 
            <xar:mlstring>
                Include dynamic data 
            </xar:mlstring>
        </label> 
    </div>
<xar:else />
    <div class="xar-form-input-wrapper-after">
    <xar:mlstring>Hook Dynamic Data to publications or itemtypes for Dynamic Data option</xar:mlstring>
    </div>
</xar:if>
</xar:template>
