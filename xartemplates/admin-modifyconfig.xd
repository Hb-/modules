<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html</xar:comment>
<xar:style scope="module" file="xarform" />
<xar:style scope="module" />
<!-- This Javascript will check for required fields before the form is submitted. -->
<xar:base-include-javascript module="base" filename="formcheck.js" position="head" />

<script type="text/javascript">
<!--
    // Enter name of mandatory fields
    var fieldRequired = Array("hidecoursemsg", "hideplanningmsg");
    // Enter field description to appear in the dialog box
    var fieldDescription = Array("Hide Course Msg", "Hide Planning msg");
//-->
</script>

<div class="xar-mod-head">
    <span class="xar-mod-title"><xar:mlstring>Courses Administration</xar:mlstring></span>
</div>

<div class="xar-mod-body">
    <h2>#$menutitle#</h2>

    <div class="xar-courses xar-courses-modifyconfig">
    <input type="hidden" name="authid" id="authid" value="#$authid#" />
    
    <form method="post" class="xar-form"
          action="#xarModUrl('courses', 'admin', 'updateconfig')#"
          onsubmit="return xar_base_formCheck(this, fieldRequired, fieldDescription);">
          
          <fieldset class="xar-norm">
               <fieldset class="formelements xar-norm">
                    <legend>
                        <strong><xar:mlstring>Course configuration</xar:mlstring></strong>
                    </legend>
                    <p class="param">
                        <label for="hideplanningmsg">
                            <span class="help" title="#xarML('The message to display when a user wants to see a course that is hidden.')#">
                            #$hideplanningmsg_label#
                            </span>
                        </label>
                        <span class="fullright">
                            <textarea class="fullright" name="hideplanningmsg" id="hideplanningmsg" wrap="virtual" rows="10" cols="40">#$hideplanningmsg#</textarea>
                        </span>
                        <xar:if condition="!empty($invalid['hideplanningmsg'])">
                            <span style="color: red"><xar:mlstring>ERROR! This is not a valid material description</xar:mlstring></span>
                        </xar:if>
                    </p>
                    <p class="param">
                        <label for="hidecoursemsg">
                            <span class="help" title="#xarML('The message to display when a user wants to see a course that is hidden.')#">
                            #$hidecoursemsg_label#
                            </span>
                        </label>
                        <span class="fullright">
                            <textarea class="fullright" name="hidecoursemsg" id="hidecoursemsg" wrap="virtual" rows="10" cols="40">#$hidecoursemsg#</textarea>
                        </span>
                        <xar:if condition="!empty($invalid['hidecoursemsg'])">
                            <span style="color: red"><xar:mlstring>ERROR! This is not a valid hidecoursemsg</xar:mlstring></span>
                        </xar:if>
                    </p>
                    <p class="param">
                        <label for="AlwaysNotify">
                            <span class="help" title="#xarML('The e-mail address that will receive all enrollments from this modules.')#">
                            #$AlwaysNotify_label#
                            </span>
                        </label>
                        <xar:data-input name="AlwaysNotify" id="AlwaysNotify" type="2" value="$AlwaysNotify" />
                        <xar:if condition="!empty($invalid['AlwaysNotify'])">
                            <span style="color: red"><xar:mlstring>ERROR! This is not a valid email address</xar:mlstring></span>
                        </xar:if>
                    </p>
                    <p class="param">
                        <label for="HideEmptyField">
                            <span class="help" title="#xarML('Hide fields in display templates that are empty?')#">
                            #$hideemptyfieldslabel#
                            </span>
                        </label>
                        <span class="fullright">
                            <input type="checkbox" name="HideEmptyFields" id="HideEmptyFields" value="1" #$hideemptyfieldschecked# />
                        </span>
                    </p>
                    <p class="param">
                        <label for="ShowShortDesc">
                            <span class="help" title="#xarML('Show table column with short description for every course?')#">
                            #$ShowShortDesclabel#
                            </span>
                        </label>
                        <span class="fullright">
                            <input type="checkbox" name="ShowShortDesc" id="ShowShortDesc" value="1" #$ShowShortDescchecked# />
                        </span>
                    </p>
                    
                    
                    <p class="param">
                        <label for="itemsperpage" class="required">
                            <span class="help" title="#xarML('Number of items per page.')#">
                            #$itemslabel#
                            </span>
                        </label>
                        <xar:data-input name="itemsperpage" type="15" value="$itemsvalue" />
                        <xar:if condition="!empty($invalid['credits'])">
                            <span style="color: red"><xar:mlstring>ERROR! This is not a valid amount of credits</xar:mlstring></span>
                        </xar:if>
                    </p>
                    <p class="param">
                        <label for="shorturls">
                            <span class="help" title="#xarML('Support short URLs.')#">
                            #$shorturlslabel#
                            </span>
                        </label>
                        <span class="fullright">
                            <input type="checkbox" name="shorturls" id="shorturls" value="1" #$shorturlschecked# />
                        </span>
                    </p>
                    
               </fieldset>
          </fieldset>
          #$hooks#
          <input type="hidden" name="authid" id="authid" value="#xarSecGenAuthKey()#" />
          <input type="submit" value="#$updatebutton#" />
    </form>
    </div>
</div>
