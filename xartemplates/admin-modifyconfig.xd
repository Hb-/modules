<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<xar:if condition="xarTplAddStyleLink('comments', 'forms')"></xar:if>
<div class="xar-mod-head">
    <span class="xar-mod-title">
        <xar:mlstring>
            Comments Administration
        </xar:mlstring>
    </span>
</div>
<div class="xar-mod-body">
    <h2>
        <xar:mlstring>
            Modify Configuration
        </xar:mlstring>
    </h2>
    <form class="xar-formwidget" method="post" action="#xarModUrl('comments', 'admin', 'updateconfig')#" enctype="application/x-www-form-urlencoded">
        <fieldset class="formelements xar-norm">
            <legend>
                <strong>
                    <xar:mlstring>
                        Comment Settings
                    </xar:mlstring>
                </strong>
            </legend>

            <input type="hidden" name="authid" id="authid" value="#xarSecGenAuthKey()#" />
            <p class="param">
                <label for="showoptions">
                    <span class="help" title="#xarML('Disabled, this will kill the options bar on comments')#">
                        <xar:mlstring>
                            Show rendering options
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$showoptions">#xarModGetVar('comments','showoptions')#</xar:set>
                <xar:if condition="!empty($showoptions)">
                    <input type="checkbox" name="showoptions" id="showoptions" value="1" checked="checked" />
                <xar:else/>
                    <input type="checkbox" name="showoptions" id="showoptions" value="1" />
                </xar:if>
            </p>
            <p class="param">
                <label for="xar_depth">
                    <span class="help" title="#xarML('The rendering depth to be used as default')#">
                        <xar:mlstring>
                            Default Rendering Depth
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$depth">#xarModGetVar('comments','depth')#</xar:set>
                <xar:set name="$max_depth">_COM_MAX_DEPTH - 1</xar:set>
                
                <select name="xar_depth" id="xar_depth">
                    <xar:for start="$i = 1" test="$i le $max_depth" iter="$i++">
                        <xar:if condition="$i eq $depth">
                            <option value="#$i#" selected="selected">#$i#</option>
                        <xar:else />
                            <option value="#$i#">#$i#</option>
                        </xar:if>
                    </xar:for>
                </select>
            </p>
            <p class="param">
                <label for="xar_render">
                    <span class="help" title="#xarML('The rendering style to be used as default.')#">
                        <xar:mlstring>
                            Default Rendering Style
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$render">#xarModGetVar('comments','render')#</xar:set>
                <select name="xar_render" id="xar_render">
                    <xar:if condition="$render eq 'nested'">
                        <option value="nested" selected="selected"><xar:mlstring>Nested</xar:mlstring></option>
                    <xar:else />
                        <option value="nested"><xar:mlstring>Nested</xar:mlstring></option>
                    </xar:if>
                    <xar:if condition="$render eq 'flat'">
                        <option value="flat" selected="selected"><xar:mlstring>Flat</xar:mlstring></option>
                    <xar:else />
                        <option value="flat"><xar:mlstring>Flat</xar:mlstring></option>
                    </xar:if>
                    <xar:if condition="$render eq 'threaded'">
                        <option value="threaded" selected="selected"><xar:mlstring>Threaded</xar:mlstring></option>
                    <xar:else />
                        <option value="threaded"><xar:mlstring>Threaded</xar:mlstring></option>
                    </xar:if>
                    <xar:if condition="$render eq 'nocomments'">
                        <option value="nocomments" selected="selected"><xar:mlstring>No Comments</xar:mlstring></option>
                    <xar:else />
                        <option value="nocomments"><xar:mlstring>No Comments</xar:mlstring></option>
                    </xar:if>
                </select>
            </p>
            <p class="param">
                <label for="xar_sortby">
                    <span class="help" title="#xarML('The sorting mode to be used as default.')#">
                        <xar:mlstring>
                            Default Sorting Mode
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$sortby">#xarModGetVar('comments','sortby')#</xar:set>
                <select name="xar_sortby" id="xar_sortby">
                    <xar:if condition="$sortby eq 1">
                        <option value="1" selected="selected"><xar:mlstring>Author</xar:mlstring></option>
                    <xar:else />
                        <option value="1"><xar:mlstring>Author</xar:mlstring></option>
                    </xar:if>

                    <xar:if condition="$sortby eq 2">
                        <option value="2" selected="selected"><xar:mlstring>Date</xar:mlstring></option>
                    <xar:else />
                        <option value="2"><xar:mlstring>Date</xar:mlstring></option>
                    </xar:if>

                    <xar:if condition="$sortby eq 3">
                        <option value="3" selected="selected"><xar:mlstring>Thread</xar:mlstring></option>
                    <xar:else />
                        <option value="3"><xar:mlstring>Thread</xar:mlstring></option>
                    </xar:if>

                    <xar:if condition="$sortby eq 4">
                        <option value="4" selected="selected"><xar:mlstring>Title</xar:mlstring></option>
                    <xar:else />
                        <option value="4"><xar:mlstring>Title</xar:mlstring></option>
                    </xar:if>
                </select>
            </p>
            <p class="param">
                <label for="xar_order">
                    <span class="help" title="#xarML('The sorting order to be used as default.')#">
                        <xar:mlstring>
                            Default Sorting Order
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$order">#xarModGetVar('comments','order')#</xar:set>
                <select name="xar_order" id="xar_order">
                    <xar:if condition="$order eq 1">
                        <option value="1" selected="selected"><xar:mlstring>Ascending</xar:mlstring></option>
                    <xar:else />
                        <option value="1"><xar:mlstring>Ascending</xar:mlstring></option>
                    </xar:if>

                    <xar:if condition="$order eq 2">
                        <option value="2" selected="selected"><xar:mlstring>Descending</xar:mlstring></option>
                    <xar:else />
                        <option value="2"><xar:mlstring>Descending</xar:mlstring></option>
                    </xar:if>

                </select>
            </p>
            <p class="param">
                <label for="xar_postanon">
                    <span class="help" title="#xarML('Admin will see the name of who posted.')#">
                        <xar:mlstring>
                            Allow anonymous posting
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$postanon">#xarModGetVar('comments','AllowPostAsAnon')#</xar:set>
                <xar:if condition="$postanon eq 1">
                    <input type="checkbox" name="xar_postanon" id="xar_postanon" checked="checked" />
                <xar:else />
                    <input type="checkbox" name="xar_postanon" id="xar_postanon" />
                </xar:if>
            </p>
            <p class="param">
                <label for="numstats">
                    <span class="help" title="#xarML('Statistics page ordering.')#">
                        <xar:mlstring>
                            Number of Items in Statistics
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$numstats">#xarModGetVar('comments','numstats')#</xar:set>
                <input type="text" name="numstats" id="numstats" size="4" maxlength="4" value="#$numstats#" />
            </p>
            <p class="param">
                <label for="showtitle">
                    <span class="help" title="#xarML('Show the titles of items that the comments are attached to.')#">
                        <xar:mlstring>
                            Show Title in Statistics
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$showtitle">#xarModGetVar('comments','showtitle')#</xar:set>
                <xar:if condition="!empty($showtitle)">
                    <input type="checkbox" name="showtitle" id="showtitle" value="1" checked="checked" />
                <xar:else/>
                    <input type="checkbox" name="showtitle" id="showtitle" value="1" />
                </xar:if>
            </p>
            <p class="param">
                <label for="editstamp">
                    <span class="help" title="#xarML('Default value for Comment Edit Stamp use')#">
                        <xar:mlstring>
                            Use Comment Edit Stamp
                        </xar:mlstring>
                    </span>
                </label>
                <select name="editstamp" id="editstamp" size="1">
                <xar:if condition="$editstamp eq '0'">
                   <option value="0" selected="selected"><xar:mlstring>None</xar:mlstring></option>
                   <option value="1"><xar:mlstring>Yes</xar:mlstring></option>
                   <option value="2"><xar:mlstring>Yes - exclude for Admin</xar:mlstring></option>
                <xar:elseif condition="$editstamp eq '1'" />
                   <option value="0"><xar:mlstring>None</xar:mlstring></option>
                   <option value="1" selected="selected"><xar:mlstring>Yes</xar:mlstring></option>
                   <option value="2"><xar:mlstring>Yes - exclude for Admin</xar:mlstring></option>
                <xar:elseif condition="$editstamp eq '2'"/>
                   <option value="0"><xar:mlstring>None</xar:mlstring></option>
                   <option value="1"><xar:mlstring>Yes</xar:mlstring></option>
                   <option value="2" selected="selected"><xar:mlstring>Yes - exclude for Admin</xar:mlstring></option>
                </xar:if> 
                </select>
            </p>
            <p class="param">
                <label for="xar_wrap">
                    <span class="help" title="#xarML('Long strings will be wrapped, including URLS when checked')#">
                        <xar:mlstring>
                            Wrap Long Entries
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$wrap">#xarModGetVar('comments','wrap')#</xar:set>
                <xar:if condition="!empty($wrap)">
                    <input type="checkbox" name="xar_wrap" id="xar_wrap" value="1" checked="checked" />
                <xar:else/>
                    <input type="checkbox" name="xar_wrap" id="xar_wrap" value="1" />
                </xar:if>
            </p>
            <p class="param">
                <label for="rssnumitems">
                    <span class="help" title="#xarML('Number of items in RSS Feed')#">
                        <xar:mlstring>
                            Number of Items in Statistics
                        </xar:mlstring>
                    </span>
                </label>
                <xar:set name="$rssnumitems">#xarModGetVar('comments','rssnumitems')#</xar:set>
                <input type="text" name="rssnumitems" id="rssnumitems" size="4" maxlength="4" value="#$rssnumitems#" />
            </p>
        </fieldset>
        <fieldset class="formelements xar-norm">
            <p class="param">
                <input type="submit" value="#xarML('Submit')#" />
                <input type="reset" value="#xarML('Reset')#" />
            </p>
        </fieldset>
    </form>
</div>