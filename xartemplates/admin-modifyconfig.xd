<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<div class="xar-mod-head">
    <span class="xar-mod-title"><xar:mlstring>AuthSSO Administration</xar:mlstring></span>
</div>
<div class="xar-mod-body">
    <xar:template type="module" file="admin-menu" />
    <h2>#$configadmin#</h2>

    <form method="post" id="post" action="&xar-modurl-authsso-admin-updateconfig;">
    <fieldset>
        <legend><xar:mlstring>Configuration Options</xar:mlstring></legend>
            <div class="xar-form-input-wrapper-after">
                <xar:if condition="$adduservalue eq 'checked' ">
                    <input type="checkbox" name="adduser" value="1" checked="checked" />
                <xar:else />
                    <input type="checkbox" name="adduser" value="1" />
                </xar:if>
                <label for="adduservalue" title="#$adduserhelp#">
                    #$adduser#:
                </label>
            </div>
        <xar:if condition="xarModIsAvailable('xarldap') eq 'true'">
            <div class="xar-form-input-wrapper-after">
                <xar:if condition="$useldapvalue eq 'checked' ">
                    <input type="checkbox" name="useldap" id="useldap" value="1" checked="checked" />
                <xar:else />
                    <input type="checkbox" name="useldap" id="useldap" value="1" />
                </xar:if>
                <label for="useldap" title="#$useldaphelp#">
                    #$useldap#:
                </label>
            </div>
        </xar:if>
        <xar:if condition="$useldapvalue eq 'checked' and xarModIsAvailable('xarldap') eq 'true' ">
            <div class="xar-form-input-wrapper">
                <label for="ldapnamevalue" class="xar-form-label" title="#xarML('Default group for new users.')#">
                       #$ldapnameattr#:
                </label>
                <input type="text" name="ldapnamevalue" id="ldapnamevalue" value="#$ldapnamevalue#" />
            </div>
            <div class="xar-form-input-wrapper">
                <label for="ldapmailvalue" class="xar-form-label" title="#xarML('Default group for new users.')#">
                    #$ldapmailattr#:
                </label>
                <input type="text" name="ldapmailvalue"  id="ldapmailvalue" value="#$ldapmailvalue#" />
            </div>
        <xar:else />
            <div class="xar-form-input-wrapper">
                <label for="maildomain" class="xar-form-label" title="#xarML('Default group for new users.')#">
                    #$maildomain#:
                </label>
                <input type="text" name="maildomain" id="maildomain" value="#$mailvalue#" />
            </div>
        </xar:if>
            <div class="xar-form-input-wrapper">
                <label for="defaultgroup" class="xar-form-label" title="#xarML('Default group for new users.')#">
                     #$defaultgrouplabel#:
                </label>
                <select name="defaultgroup" id="defaultgroup">
                <xar:loop name="$groups">
                    <xar:if condition="$loop:item['name'] eq $defaultgroup">
                        <option name="#$loop:item['name']#" id="#$loop:item['name']#" value="#$loop:item['name']#" selected="selected">#$loop:item['name']#</option>
                    <xar:else />
                        <option name="#$loop:item['name']#" id="#$loop:item['name']#" value="#$loop:item['name']#">#$loop:item['name']#</option>
                    </xar:if>
                </xar:loop>
                </select>
        </div>
            <div class="xar-form-input-wrapper">
                <label for="activate" class="xar-form-label" title="#xarML('Default group for new users.')#">
                     <xar:mlstring>Activate authentication module</xar:mlstring>:
                </label>
                <xar:if condition="in_array('authsso',xarConfigGetVar('Site.User.AuthenticationModules'))">
                    <input type="checkbox" name="activate" id="activate" value="1" checked="checked" />
                <xar:else />
                    <input type="checkbox" name="activate" id="activate" value="1" />
                </xar:if>
        </div>
    </fieldset>
    <div class="xar-form-input-wrapper-after">
            <input type="submit" value="#$submitbutton#" />
            <input type="hidden" name="authid" id="authid" value="#$authid#" />
    </div>
</form>
</div>

