<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<xar:base-include-javascript module="base" filename="formcheck.js" />
<xar:style file="navtabs" module="base" scope="module" />
<div class="xar-mod-head">
  <span class="xar-mod-title"><xar:mlstring>Translations Administration</xar:mlstring></span>
</div>
<div class="xar-mod-body">
   <xar:template type="module" module="translations" file="admin-nav" />
   <h2><xar:mlstring>Modify Translations Configuration</xar:mlstring></h2>
   <xar:template file="admin-menu" type="module"/>


<dl class="xar-tabs">
    <dt class="help" title="Choose a set of configuration options">
        <xar:mlstring>Actions</xar:mlstring> : 
    </dt>
    <xar:if condition="$tab eq 'locales'">
        <dd class="active">
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'locales'))#" class="active">
                <xar:mlstring>Languages and Locales</xar:mlstring>
            </a>
        </dd>    
    <xar:else />
        <dd>
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'locales'))#">    
                <xar:mlstring>Languages and Locales</xar:mlstring>
            </a>
        </dd>    
    </xar:if>
    <xar:if condition="$tab eq 'display'">
        <dd class="active">
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'display'))#" class="active">
                <xar:mlstring>Translations Display</xar:mlstring>
            </a>
        </dd>
    <xar:else />
        <dd>
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'display'))#">    
                <xar:mlstring>Translations Display</xar:mlstring>
            </a>
        </dd>    
    </xar:if>
    <xar:if condition="$tab eq 'release'">
        <dd class="active">
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'release'))#" class="active">
                <xar:mlstring>Translations Release</xar:mlstring>
            </a>
        </dd>
    <xar:else />
        <dd>
            <a href="#xarModURL('translations', 'admin', 'modifyconfig', array('tab' => 'release'))#">    
                <xar:mlstring>Translations Release</xar:mlstring>
            </a>
        </dd>    
    </xar:if>
    </dl>

    <xar:comment> ----------------- Begin Locale Options ------------------- </xar:comment>
    <xar:if condition="$tab eq 'locales'">
        <!-- Initialization of some information -->
        <xar:set name="mlsmode">#xarConfigGetVar('Site.MLS.MLSMode')#</xar:set>
        <xar:set name="single_checked">''</xar:set>
        <xar:if condition="$mlsmode == 'SINGLE'"><xar:set name="single_checked">'CHECKED'</xar:set></xar:if>
        <xar:set name="boxed_checked">''</xar:set>
        <xar:if condition="$mlsmode == 'BOXED'"><xar:set name="boxed_checked">'CHECKED'</xar:set></xar:if>
        <xar:set name="unboxed_checked">''</xar:set>
        <xar:if condition="$mlsmode == 'UNBOXED'"><xar:set name="unboxed_checked">'CHECKED'</xar:set></xar:if>

        <form action="#xarModUrl('translations', 'admin', 'updateconfig')#" method="post" onsubmit="return xar_base_formCheck(this, base_fieldRequired, base_fieldDescription);" enctype="application/x-www-form-urlencoded" >
            <input type="hidden" name="authid" id="authid" value="#$authid#" />
            <input type="hidden" name="tab" id="tab" value="#$tab#" />

            <xar:template file="modifyconfig-locales" module="base" type="module"/>

            <div style="clear: both; padding-top: 10px;">
                <input type="submit" value="#$updatelabel#" />
            </div>
        </form>
    
    <xar:comment> ----------------- Begin Display Options ------------------- </xar:comment>
    <xar:elseif condition="$tab eq 'display'" />
        <form action="&xar-modurl-translations-admin-updateconfig;" method="post" onsubmit="return xar_base_formCheck(this, base_fieldRequired, base_fieldDescription);" enctype="application/x-www-form-urlencoded" >
            <fieldset>
                <legend><xar:mlstring>Display during translation</xar:mlstring></legend>

                <p class="xar-form-input-wrapper-before">
                    <xar:mlstring>While translating you will be confronted with a lot of information. The settings below allow you to configure what is displayed during translation.</xar:mlstring>
                </p>

             <div class="xar-form-input-wrapper-after">
                    <xar:if condition="$showcontext">
                        <input id="showcontext" type="checkbox" name="showcontext" checked="checked"/>
                    <xar:else/>
                        <input id="showcontext" type="checkbox" name="showcontext" />
                    </xar:if>
                    <label for="showcontext" title="#xarML('Show a bit of context for the translation. This could be helpfull for determining the exact translation')#">
                        <xar:mlstring>Show a context</xar:mlstring>
                    </label>:
             </div>
             <div class="xar-form-input-wrapper">
                <label for="maxreferences" class="xar-form-label" title="#xarML('References per translation string')#">
                    <xar:mlstring>References per translation string</xar:mlstring>
                </label>:
                <input type="text" name="maxreferences" value="#$maxreferences#" size="3" maxlength="3" />
            </div>

                <div class="xar-form-input-wrapper">
                <label for="maxcodelines" class="xar-form-label" title="#xarML('Number of lines to display in reference')#">
                    <xar:mlstring>Number of lines to display in reference</xar:mlstring>
                </label>:
                <input type="text" name="maxcodelines" value="#$maxcodelines#" size="3" maxlength="3" />
            </div>
            </fieldset>
            <div class="xar-form-input-wrapper-after">
                <input type="hidden" name="authid" id="authid" value="#$authid#" />
                <input type="hidden" name="tab" id="tab" value="#$tab#" />
                <input type="submit" value="#$updatelabel#" />
            </div>
        </form>

    <xar:comment> ----------------- Begin Release Options ------------------- </xar:comment>
    <xar:elseif condition="$tab eq 'release'" />
        <form action="&xar-modurl-translations-admin-updateconfig;" method="post" onsubmit="return xar_base_formCheck(this, base_fieldRequired, base_fieldDescription);" enctype="application/x-www-form-urlencoded" >
           <fieldset>
                <legend><xar:mlstring>Translations storage</xar:mlstring></legend>
            <p class="xar-form-input-wrapper-before">
                <p><xar:mlstring>The translated information for xaraya and her modules can be stored in different back-ends. The following back-ends are supported:</xar:mlstring></p>

            <div class="xar-form-input-wrapper">
                <label for="releasebackend" class="xar-form-label" title="#xarML('Release Backend')#">
                    <xar:mlstring>Release Backend</xar:mlstring>
                </label>:
                <select name="releasebackend" id="releasebackend" size="1">
                    <xar:if condition="xarModGetVar('translations', 'release_backend_type') eq 'xml'">
                        <option value="xml" selected="selected"><xar:mlstring>XML (good for interoperability)</xar:mlstring></option>
                        <option value="php"><xar:mlstring>PHP (good for programmed access)</xar:mlstring></option>
                    <xar:elseif condition="xarModGetVar('translations', 'release_backend_type') eq 'php'" />
                        <option value="xml"><xar:mlstring>XML (good for interoperability)</xar:mlstring></option>
                        <option value="php" selected="selected"><xar:mlstring>PHP (good for programmed access)</xar:mlstring></option>
                    </xar:if>
                </select>
                <xar:mlstring>(only PHP allowed for now)</xar:mlstring>
            </div>
            <div class="xar-form-input-wrapper">
                <input type="hidden" name="authid" id="authid" value="#$authid#" />
                <input type="hidden" name="tab" id="tab" value="#$tab#" />
                <input type="submit" value="#$updatelabel#" />
            </div>
        </form>
    </xar:if>

</div>