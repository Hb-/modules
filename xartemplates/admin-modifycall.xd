<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<xar:style scope="module" />
<!-- This Javascript will check for required fields before the form is submitted. -->
<xar:base-include-javascript module="base" filename="" position="head" />
<script type="text/javascript">
<!--
    // Enter name of mandatory fields
    var fieldRequired = Array("calldate", "calltime", "owner");
    // Enter field description to appear in the dialog box
    var fieldDescription = Array("Date of the call","Time of the call","Owner of the maxer");
//-->
</script>

<div class="xar-mod-head">
   <span class="xar-mod-title">
      <xar:mlstring>Maxercalls Administration</xar:mlstring>
   </span>
</div>
<div class="xar-mod-body">
   <h2><xar:mlstring>Modify call</xar:mlstring></h2><br />

   <div class="xar-maxercalls xar-maxercalls-admin-modify">

        <div class="xar-maxercalls-contents">
            <form action="&xar-modurl-maxercalls-admin-updatecall;"
                  onsubmit="return xar_base_formCheck(this, fieldRequired, fieldDescription);"
                  method="post"
                  enctype="application/x-www-form-urlencoded">
                    <fieldset>
                        <legend>
                            <strong><xar:mlstring>Modify an existing maxercall for other users</xar:mlstring></strong>
                        </legend>
                        <div class="xar-form-input-wrapper">
                            <label for="calldate" class="xar-form-label required" >
                                <span class="help" title="#xarML('Each maxercall requires a date.')#">
                                    <xar:mlstring>Date of call YYYY-MM-DD</xar:mlstring>
                                </span>
                            </label>
                            <xar:data-input name="calldate" type="2" value="$item['calldate']" />
                        </div>
                        <div class="xar-form-input-wrapper">
                            <label for="calltime" class="xar-form-label required">
                                <span class="help" title="#xarML('Each maxercall requires a time.')#">
                                    <xar:mlstring>Time of call HH:MM</xar:mlstring>
                                </span>
                            </label>
                            <xar:data-input name="calltime" type="2" value="$item['calltime']" />
                        </div>
                        <div class="xar-form-input-wrapper">
                            <label for="owner" class="xar-form-label required">
                                <span class="help" title="#xarML('The carrier of the maxer you are entering a call for.')#">
                                    <xar:mlstring>Owner of maxer</xar:mlstring>
                                </span>
                            </label>
                            <span class="fullright">
                            <!--<input type="text" name="owner" id="owner" maxlength="80" />-->
                               <xar:data-input name="owner" type="37" value="$item['owner']" />
                            </span>
                        </div>
                        <div class="xar-form-input-wrapper">
                            <label for="remarks" class="xar-form-label">
                                <span class="help" title="#xarML('Any remark on this call, eg a different calltext.')#">
                                    <xar:mlstring>Other remarks</xar:mlstring>
                                </span>
                            </label>
                            <span class="fullright">
                                <textarea class="fullright"  name="remarks" id="remarks" wrap="virtual" rows="5" cols="40">#$item['remarks']#</textarea>
                            </span>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend><xar:mlstring>Hooked content</xar:mlstring></legend>
                            <xar:foreach in="$hookoutput" key="$hookmodule">
                            <!--
                            You can display individual hooks if you want using xar:if statements

                            <xar:if condition="($hookmodule eq 'categories') and !empty($hookmodule)">
                                #$hookoutput['categories']#
                            </xar:if>

                            or display them all with one command as follows
                            -->
                            #$hookoutput[$hookmodule]#

                           </xar:foreach>
                    </fieldset>
                    <fieldset>
                        <div class="xar-form-input-wrapper-after">
                            <input type="hidden" name="authid" id="authid" value="#$authid#" />
                            <input type="hidden" name="callid" id="callid" value="#$item['callid']#" />
                            <input type="hidden" name="enterts" id="enterts" value="#$item['enterts']#" />
                            <input type="submit" value="#xarML('Update call')#" />
                        </div>
                    </fieldset>
            </form>
        </div>
   </div>
</div>
