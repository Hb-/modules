<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<xar:if condition="xarTplAddStyleLink('polls', 'forms')"></xar:if>
<div class="xar-mod-head">
    <span class="xar-mod-title">
        <xar:mlstring>
            Polls Administration
        </xar:mlstring>
    </span>
</div>
<div class="xar-mod-body">
    <h2>
        <xar:mlstring>
            Existing Poll List
        </xar:mlstring>
    </h2>
    <form class="xar-formwidget" action="&xar-modurl-polls-admin-list;" method="post" enctype="application/x-www-form-urlencoded">
        <fieldset class="formelements xar-norm">
            <legend>
                <strong>
                    <xar:mlstring>
                        Choose polls status
                    </xar:mlstring>
                </strong>
            </legend>        
            <span style="float: left; width: 20%; text-align: center;">
                <label for="polls">
                    <xar:mlstring>
                        Status
                    </xar:mlstring>
                </label>
                :
            </span>
            <span style="float: left; width: 20%; text-align: left;">
                <select name="status" id="status" onchange="this.form.submit()">
                <xar:if condition="$status eq 2">
                    <option value = 1 selected = selected>
                    <xar:mlstring>
                        opened
                    </xar:mlstring>
                    </option>
                <xar:else />
                    <option value = 1>
                    <xar:mlstring>
                        opened
                    </xar:mlstring>
                    </option>
                </xar:if>
                <xar:if condition="$status eq 0">
                    <option value = 0 selected=selected>
                    <xar:mlstring>
                        closed
                    </xar:mlstring>
                    </option>
                <xar:else />
                    <option value = 0>
                    <xar:mlstring>
                        closed
                    </xar:mlstring>
                    </option>
                </xar:if>
                <xar:if condition="$status eq 2">
                    <option value = 2 selected = selected>
                    <xar:mlstring>
                        all
                    </xar:mlstring>
                    </option>
                <xar:else />
                <option value = 2>
                    <xar:mlstring>
                        all
                    </xar:mlstring>
                    </option>
                </xar:if>
                </select>
            </span>
        </form>
    </div>

        <xar:if condition="!isset($polls)">
            <div style="text-align: center; margin: auto; clear: both; padding-top: 10px;">
                <xar:mlstring>
                    There are no polls available
                </xar:mlstring>
            </div>
        <xar:else/>
        <div class="xar-fullwidth xar-noborder" style="padding-top: 20px;">
            <table cellpadding="1" cellspacing="1" width="100%">
                <tr>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Title
                            </xar:mlstring>
                        </label>
                    </th>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Type
                            </xar:mlstring>
                        </label>
                    </th>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Hooked
                            </xar:mlstring>
                        </label>
                    </th>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Status
                            </xar:mlstring>
                        </label>
                    </th>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Votes
                            </xar:mlstring>
                        </label>
                    </th>
                    <th style="text-align: center;">
                        <label class="xar-mod-title">
                            <xar:mlstring>
                                Actions
                            </xar:mlstring>
                        </label>
                    </th>
                </tr>
                <xar:loop name="$polls">
                <tr>
                    <td style="text-align: left;">
                        #$loop:item['title']#
                        <xar:if condition="$loop:item['private']">
                            [
                            <span class="xar-error">
                                <xar:mlstring>
                                    Private
                                </xar:mlstring>
                            </span> ]
                        </xar:if>
                    </td>
                    <td style="text-align: center;">
                        #$loop:item['type']#
                    </td>
                    <td style="text-align: center;">
                        #$loop:item['hook']#
                    </td>
                    <td style="text-align: center;">
                        #$loop:item['open']#
                    </td>
                    <td style="text-align: center;">
                        #$loop:item['votes']#
                    </td>
                    <td style="text-align: center;" class="xar-norm"> [
                        <a href="#$loop:item['action_display']#">
                            <xar:mlstring>
                                Options
                            </xar:mlstring>
                        </a>
                        |
                        <xar:if condition="isset($loop:item['action_close'])">
                            <a href="#$loop:item['action_close']#">
                                <xar:mlstring>
                                    Close
                                </xar:mlstring>
                            </a>
                            |
                        </xar:if>
                        <xar:if condition="isset($loop:item['action_modify'])">
                            <a href="#$loop:item['action_modify']#">
                                <xar:mlstring>
                                    Modify
                                </xar:mlstring>
                            </a>
                            |
                        </xar:if>
                        <xar:if condition="isset($loop:item['action_reset'])">
                            <a href="#$loop:item['action_reset']#">
                                <xar:mlstring>
                                    Reset
                                </xar:mlstring>
                            </a>
                            |
                        </xar:if>
                        <a href="#$loop:item['action_delete']#">
                            <xar:mlstring>
                                Delete
                            </xar:mlstring>
                        </a>
                        ]
                    </td>
                </tr>
            </xar:loop>
            </table>
        </div>
    </xar:if>
</div>
</fieldset>
