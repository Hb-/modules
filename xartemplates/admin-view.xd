<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<div class="xar-mod-head"><span class="xar-mod-title"><xar:mlstring>Administration - CacheSecurity</xar:mlstring></span></div>
<div class="xar-mod-body">
    <h2><xar:mlstring>Security Cache Control</xar:mlstring></h2>
    <div style="padding: 1px;" class="xar-norm-outline">
        <div class="xar-mod-title xar-norm-outline" style="margin-top: 1em; margin-left: 1em; margin-right: 1em; width: auto; border-style: none none dotted none;">
            <xar:mlstring>Choose your Option:</xar:mlstring>
        </div>
        <br />
        <div style="margin-left: 1em; margin-right: 1em; text-align:left;">
            <table>
                <tr>
                    <th>Status</th>
                    <th>Action</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>
                        <xar:if condition="$issynchronized">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'all', 'authid' => $authid))#">
                          <xar:mlstring>Synchronize All</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes all of the security caches at once.</xar:mlstring></td>
                </tr>
<xar:comment>
                <tr>
                    <td>
                        <xar:if condition="$syncinfo['masks']">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'masks', 'authid' => $authid))#">
                          <xar:mlstring>Synchronize Masks</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes just the security masks cache.</xar:mlstring></td>
                </tr>
                <tr>
                    <td>
                        <xar:if condition="$syncinfo['privileges']">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'privileges', 'authid' => $authid))#">
                          <xar:mlstring>Synchornize Privileges</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes just the security privileges cache.</xar:mlstring></td>
                </tr>
</xar:comment>
                <tr>
                    <td>
                        <xar:if condition="$syncinfo['privsgraph']">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'privsgraph', 'authid' => $authid))#">
                          <xar:mlstring>Synchronize Privileges Structure</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes just the security privileges structure cache.</xar:mlstring></td>
                </tr>
                <tr>
                    <td>
                        <xar:if condition="$syncinfo['rolesgraph']">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'rolesgraph', 'authid' => $authid))#">
                          <xar:mlstring>Synchronize Roles Structure</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes just the roles structure cache.</xar:mlstring></td>
                </tr>

                <tr>
                    <td>
                        <xar:if condition="$syncinfo['privsmasks']">
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        <xar:else />
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </xar:if>
                    </td>
                      <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('sync'=>'privsmasks', 'authid' => $authid))#">
                          <xar:mlstring>Synchronize Privileges x Masks Relationship</xar:mlstring>
                      </a></td>
                    <td><xar:mlstring>Synchronizes just the privileges and masks relationship cache.</xar:mlstring></td>
                </tr>



                <xar:if condition="$ison">
                    <tr>
                        <td>
                            <div style="background-color: green">
                                <xar:mlstring>Ok</xar:mlstring>
                            </div>
                        </td>
                          <td><a href="#xarModURL('cachesecurity', 'admin', 'turnoff', array('authid' => $authid))#">
                              <xar:mlstring>Turn Off</xar:mlstring>
                          </a></td>
                        <td><xar:mlstring>Turns off the security caching system.</xar:mlstring></td>
                    </tr>
                   <xar:else />
                    <tr>
                        <td>
                            <div style="background-color: red">
                                <xar:mlstring>Not Ok</xar:mlstring>
                            </div>
                        </td>
                          <td><a href="#xarModURL('cachesecurity', 'admin', 'turnon', array('authid'=>$authid))#">
                              <xar:mlstring>Turn On</xar:mlstring>
                          </a></td>
                        <td><xar:mlstring>Turns on the security caching system.</xar:mlstring></td>
                    </tr>
                   </xar:if>

                <xar:if condition="$autosync">
                    <tr>
                        <td>
                            <div style="background-color: green">
                                <xar:mlstring>On</xar:mlstring>
                            </div>
                        </td>
                          <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('authid' => $authid, 'autosync' => 'false'))#">
                              <xar:mlstring>Turn Off</xar:mlstring>
                          </a></td>
                        <td><xar:mlstring>Turns off the automatic synchronization of the cache security system.</xar:mlstring></td>
                    </tr>
                   <xar:else />
                    <tr>
                        <td>
                            <div style="background-color: red">
                                <xar:mlstring>Off</xar:mlstring>
                            </div>
                        </td>
                          <td>
                              <xar:mlstring>Yet not implemented.</xar:mlstring>
                          </td>
                        <!--
                          <td><a href="#xarModURL('cachesecurity', 'admin', 'view', array('authid'=>$authid, 'autosync' => 'true'))#">
                              <xar:mlstring>Turn On</xar:mlstring>
                          </a></td>
                        -->
                        <td><xar:mlstring>Turns on the automatic synchronization of the cache security system.</xar:mlstring></td>
                    </tr>
                   </xar:if>

            </table>
        </div>
    </div>

    <xar:if condition="!empty($error)">
        <h2><xar:mlstring>Error in the last action:</xar:mlstring></h2>
        <div style="padding: 1px;" class="xar-norm-outline">
        #$error#
        </div>
       </xar:if>

</div>