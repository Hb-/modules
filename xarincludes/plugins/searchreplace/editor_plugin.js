    .importPluginLanguagePack('searchreplace');var     _SearchReplacePlugin={getInfo:function(){return{longname:'Search/Replace',author:'Moxiecode Systems',authorurl:'http://    .moxiecode.com',infourl:'http://    .moxiecode.com/    /docs/plugin_searchreplace.html',version:    .majorVersion+"."+    .minorVersion}},initInstance:function(inst){inst.addShortcut('ctrl','f','lang_searchreplace_search_desc','mceSearch',true)},getControlHTML:function(cn){switch(cn){case"search":return     .getButtonHTML(cn,'lang_searchreplace_search_desc','{$pluginurl}/images/search.gif','mceSearch',true);case"replace":return     .getButtonHTML(cn,'lang_searchreplace_replace_desc','{$pluginurl}/images/replace.gif','mceSearchReplace',true)}return""},execCommand:function(editor_id,element,command,user_interface,value){var instance=    .getInstanceById(editor_id);function defValue(key,default_value){value[key]=typeof(value[key])=="undefined"?default_value:value[key]}function replaceSel(search_str,str,back){instance.execCommand('mceInsertContent',false,str)}if(!value)value=new Array();defValue("editor_id",editor_id);defValue("searchstring","");defValue("replacestring",null);defValue("replacemode","none");defValue("casesensitive",false);defValue("backwards",false);defValue("wrap",false);defValue("wholeword",false);defValue("inline","yes");switch(command){case"mceResetSearch":    .lastSearchRng=null;return true;case"mceSearch":if(user_interface){var template=new Array();if(value['replacestring']!=null){template['file']='../../plugins/searchreplace/replace.htm';template['width']=320;template['height']=100+(    .isNS7?20:0);template['width']+=    .getLang('lang_searchreplace_replace_delta_width',0);template['height']+=    .getLang('lang_searchreplace_replace_delta_height',0)}else{template['file']='../../plugins/searchreplace/search.htm';template['width']=310;template['height']=105+(    .isNS7?25:0);template['width']+=    .getLang('lang_searchreplace_search_delta_width',0);template['height']+=    .getLang('lang_searchreplace_search_delta_width',0)}instance.execCommand('SelectAll');if(    .isMSIE){var r=instance.selection.getRng();r.collapse(true);r.select()}else instance.selection.getSel().collapseToStart();    .openWindow(template,value)}else{var win=    .getInstanceById(editor_id).contentWindow;var doc=    .getInstanceById(editor_id).contentWindow.document;var body=    .getInstanceById(editor_id).contentWindow.document.body;if(body.innerHTML==""){alert(    .getLang('lang_searchreplace_notfound'));return true}if(value['replacemode']=="current"){replaceSel(value['string'],value['replacestring'],value['backwards']);value['replacemode']="none";    .execInstanceCommand(editor_id,'mceSearch',user_interface,value,false);return true}if(    .isMSIE){var rng=    .lastSearchRng?    .lastSearchRng:doc.selection.createRange();var flags=0;if(value['wholeword'])flags=flags|2;if(value['casesensitive'])flags=flags|4;if(!rng.findText){alert('This operation is currently not supported by this browser.');return true}if(value['replacemode']=="all"){while(rng.findText(value['string'],value['backwards']?-1:1,flags)){rng.scrollIntoView();rng.select();rng.collapse(false);replaceSel(value['string'],value['replacestring'],value['backwards'])}alert(    .getLang('lang_searchreplace_allreplaced'));return true}if(rng.findText(value['string'],value['backwards']?-1:1,flags)){rng.scrollIntoView();rng.select();rng.collapse(value['backwards']);    .lastSearchRng=rng}else alert(    .getLang('lang_searchreplace_notfound'))}else{if(value['replacemode']=="all"){while(win.find(value['string'],value['casesensitive'],value['backwards'],value['wrap'],value['wholeword'],false,false))replaceSel(value['string'],value['replacestring'],value['backwards']);alert(    .getLang('lang_searchreplace_allreplaced'));return true}if(!win.find(value['string'],value['casesensitive'],value['backwards'],value['wrap'],value['wholeword'],false,false))alert(    .getLang('lang_searchreplace_notfound'))}}return true;case"mceSearchReplace":value['replacestring']="";    .execInstanceCommand(editor_id,'mceSearch',user_interface,value,false);return true}return false}};    .addPlugin("searchreplace",    _SearchReplacePlugin);