<xar:comment>
    Template to be included wherever the display of 1 changeset is needed
    Variables needed here:
    - $tag        : is the cset tagged?
    - $repoid     : id of the repository
    - $rev        : revision number of the changeset
    - $author     : author of the changeset
    - $age        : age 
    - $range      : range compatible age code
    - $taggedonly : passthrough for the urls
</xar:comment>

<xar:if condition="!isset($taggedonly)">
    <xar:set name="taggedonly">0</xar:set>
</xar:if>

<div class="xar-norm-outline " style="margin-bottom: 5pt; padding-left: 2pt;">
    <xar:set name="csetclass">'xar-norm'</xar:set>
    <xar:set name="csettag">''</xar:set>
    <xar:if condition="!empty($tag)">
        <xar:set name="csetclass">'xar-accent'</xar:set>
        <xar:set name="csettag">#$tag#</xar:set>
    </xar:if>
    
    <div class="#$csetclass#">
        <span><xar:mlstring>ChangeSet</xar:mlstring></span>
        <span>
            <a href="&xar-modurl-bkview-user-deltaview;&amp;rev=#$rev#&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                #$rev#
            </a>
            #$csettag#
        </span>
        <span><xar:mlstring>by</xar:mlstring></span>
        <span>
            <a href="&xar-modurl-bkview-user-csetview;&amp;repoid=#$repoid#&amp;range=#$range#&amp;user=#$author#&amp;taggedonly=#$taggedonly#&amp;showmerge=1" onclick="return loadContent(this.href);">
                #$author#
            </a>
        </span>
            
        <span>
            <a href="&xar-modurl-bkview-user-csetview;&amp;repoid=#$repoid#&amp;range=#$range#&amp;taggedonly=#$taggedonly#&amp;showmerge=1" onclick="return loadContent(this.href);">
                #$age#
            </a>
        </span>
        <span><xar:mlstring>ago</xar:mlstring></span>
    </div>
    
    <div class="comments">
        #$comments#
    </div>
</div>