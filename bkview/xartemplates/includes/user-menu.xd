<div id="bkview-modbody-id" class="xar-mod-body" >

    <xar:set name="usexmlhttp">
        <xar:var scope="module" module="bkview" name="xmlhttp_enabled"/>
    </xar:set>
    <xar:if condition="strtolower($usexmlhttp) eq 'on'">
        <!-- Experimenting with http requests only when module is surrounded by element with an id -->
        <script src="/modules/bkview/xarincludes/xmlhttprequest.js" ></script>
    </xar:if>

    <div class="xar-mod-head">
        <span class="xar-mod-title">
            <xar:mlstring>BK-view</xar:mlstring>
        </span>
    </div>

<!-- Use the standard tabbed navigation -->
<xar:if condition="xarTplAddStyleLink('bkview','bkweb')"></xar:if>
<xar:if condition="xarTplAddStyleLink('base','navtabs')">
    <div class="tabnav">
        <div class="navhelp help" title="#xarML('Click on a tab to display different repository information')#">
            <xar:mlstring>Repository navigation:</xar:mlstring>
        </div>
        <div class="tabnav-hairline"><!-- nothing here, just a clearing div really --></div>
        <ul class="navlist">
            <xar:if condition="$_bl_module_func eq 'view'">
                <li class="active">
                    <a href="&xar-modurl-bkview-user-main;" onclick="return loadContent(this.href);">
                        <img src="#xarTplGetImage('bkindex.gif')#" alt="#xarML('Index')#" />
                        <xar:mlstring>
                            Index 
                        </xar:mlstring>
                    </a>
                </li>
                <xar:else />
                <li>
                    <a href="&xar-modurl-bkview-user-main;" onclick="return loadContent(this.href);">
                        <img src="#xarTplGetImage('bkindex.gif')#" alt="#xarML('Index')#" />
                        <xar:mlstring>
                            Index 
                        </xar:mlstring>
                    </a>
                </li>
            </xar:if>
            <xar:if condition="!empty($repoid)">
                <xar:if condition="$_bl_module_func eq 'display'">
                    <li class="active">
                        <a href="&xar-modurl-bkview-user-display;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bkcset.gif')#" alt="#xarML('Changeset activity')#" />
                            <xar:mlstring>
                                Changeset activity 
                            </xar:mlstring>
                        </a>
                    </li>
                    <xar:else />
                    <li>
                        <a href="&xar-modurl-bkview-user-display;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bkcset.gif')#" alt="#xarML('Changeset activity')#" />
                            <xar:mlstring>
                                Changeset activity 
                            </xar:mlstring>
                        </a>
                    </li>
                </xar:if>
                <xar:if condition="$_bl_module_func eq 'csetview'">
                    <li class="active">
                        <a href="&xar-modurl-bkview-user-csetview;&amp;taggedonly=1&amp;repoid=#$repoid#&amp;showmerge=1" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bktags.gif')#" alt="#xarML('Tags')#" />
                            <xar:mlstring>
                                Tags 
                            </xar:mlstring>
                        </a>
                    </li>
                    <xar:else />
                    <li>
                        <a href="&xar-modurl-bkview-user-csetview;&amp;taggedonly=1&amp;repoid=#$repoid#&amp;showmerge=1" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bktags.gif')#" alt="#xarML('Tags')#" />
                            <xar:mlstring>
                                Tags 
                            </xar:mlstring>
                        </a>
                    </li>
                </xar:if>
                <xar:if condition="$_bl_module_func eq 'browseview'">
                    <li class="active">
                        <a href="&xar-modurl-bkview-user-browseview;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bktree.gif')#" alt="#xarML('Browse source tree')#" />
                            <xar:mlstring>
                                Browse source tree 
                            </xar:mlstring>
                        </a>
                    </li>
                    <xar:else />
                    <li>
                        <a href="&xar-modurl-bkview-user-browseview;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bktree.gif')#" alt="#xarML('Browse source tree')#" />
                            <xar:mlstring>
                                Browse source tree 
                            </xar:mlstring>
                        </a>
                    </li>
                </xar:if>
                <xar:if condition="$_bl_module_func eq 'statsview'">
                    <li class="active">
                        <a href="&xar-modurl-bkview-user-statsview;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bkstats.gif')#" alt="#xarML('User statistics')#" />
                            <xar:mlstring>
                                User statistics 
                            </xar:mlstring>
                        </a>
                    </li>
                    <xar:else />
                    <li>
                        <a href="&xar-modurl-bkview-user-statsview;&amp;repoid=#$repoid#" onclick="return loadContent(this.href);">
                            <img src="#xarTplGetImage('bkstats.gif')#" alt="#xarML('User statistics')#" />
                            <xar:mlstring>
                                User statistics 
                            </xar:mlstring>
                        </a>
                    </li>
                </xar:if>
            </xar:if>
        </ul>
        <div class="tabnav-hairline" ><!-- nothing here, just a clearing div really --></div>
  </div>
</xar:if>

<div class="xar-mod-title">
    <xar:if condition="!empty($name_value)">
        #$name_value# : 
    </xar:if>
    #$pageinfo# 
</div>
